<%= grid(@roles, show_filters: :always) do |g|
  g.action_column
  g.column name:  'ID', attribute: 'id', filter: false
  g.column name:  'index', attribute: 'role_index'
  
  g.column name:  'Account' ,attribute: 'no', model: 'Account' do |task|
    account_tag task.account
  end
  g.column name: '账号状态', attribute: 'status',model: 'Account'
  g.column name:  '区', attribute: 'server'#, filter: false
  g.column name:  '等级', attribute: 'level',filter_type: :range
  g.column name:  '体力', attribute: 'vit_power'#, filter: false

  g.column name: '金币' do |task|
    task.gold
  end
  g.column name: '今日结果',attribute: "today_success",custom_filter: {"完成" => true,"未完成" =>false} do |task|
    boolean_tag task.today_success 
  end
  g.column name:  '状态', attribute: 'status'#, filter: false
  g.column   do |task|
    link_to('Edit', edit_role_path(task)) + " "+
    link_to('Destroy', task_path(task),confirm: 'Are you sure?',:method => :delete)
  end
end %>