<%= grid(@computers, show_filters: :no) do |g|
  g.action_column
  g.column name:  'ID', attribute: 'id', filter: false

  g.column name:  '主机名/分组名' do |computer|
    computer_tag(computer)+" "+computer.group
  end

  g.column name:  '区', attribute: 'server' do |computer|
    link_to computer.server || "" ,computers_path(:server => computer.server)
  end
  g.column name:  'KEY', attribute: 'auth_key',filter: false
  g.column name: 'Name', attribute: 'real_name'
  g.column name: '状态' ,attribute: 'status' do |computer|
     status_tag computer.status
  end
  g.column name:  '版本', attribute: 'version' do |computer|
    link_to computer.version, computers_path(:version => computer.version) 
  end
  g.column name: 'N', attribute: 'client_count'
  g.column name:  '账号数', attribute: 'accounts_count' do |computer|
    computer.online_accounts_count.to_s + "/" + computer.accounts_count.to_s + "/" + computer.max_accounts.to_s
  end
  g.column name:  '自动绑定/新号', attribute: 'auto_binding' do |computer|
    boolean_tag(computer.auto_binding) + " / " + boolean_tag(computer.allowed_new)
  end
  g.column name:  "注册时间",attribute: 'created_at'  do |computer|
    time_str computer.created_at
  end
  g.column name:  "通过",attribute: 'checked'  do |computer|
    boolean_tag computer.checked
  end
  g.column name:  "在线"  do |computer|
    boolean_tag computer.is_started?
  end
end %>